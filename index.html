<!DOCTYPE html PUBLIC "-/W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml/DTD/xhtml-transitional.dtd">
<html xmlns=http://www.w3.org/1999/xhtml">
    <head>

<link rel="stylesheet" href="css/jquery.mobile-1.4.5.css" type="text/css"/>
<link rel="stylesheet" href="css/jquery.mobile.theme-1.4.5.min.css" type="text/css"  />
<link rel="stylesheet" href="css/jquery.mobile.structure-1.4.5.min.css" type="text/css" />
<script type="text/javascript" src="phonegap.js"></script>
<script type="text/javascript" src="js/jquery-2.2.0.min.js" ></script>
<script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js" ></script>
<meta http-equiv="content-Type" content="text/html; charset=utf-8"/>
<script type="text/javascript">
    
    document.addEventListener("deviceready",function(){
    $("#btnTomarFoto").tap(function(){
      //  alert ("ejecucion correcta")
        navigator.device.capture.captureImage(function (Foto){
           ruta=Foto[0].fullPath;
           //coocar la imagen en una etiquta <img>
           $("#imagen").append('<img src="'+ruta+'" width="100%"/> ').attr('rel',ruta);
        },function (error){
            navigator.notification.alert("Error;"+error.code,null,"Captura de Error");
        },{limit:1});
    });
    
    },false);
    </script>
<style type="=text/css">
    p{
        text-align: center;
    }
</style>

    </head>
    <body>
        <div data-role="page" id="Principal" data-theme="b">
            <div data-role="header">
                <p>Acceso a Camara</p>
            </div>
        <div data-role="content">
            <input type="button" value="Tomar Foto" id="btnTomarFoto"/>
            <div id="imagen"></div>    
        </div>
            <div data-role="footer" data-position="fixed">
                <p>Pie de la aplicacion </p>
            </div>
    </body>